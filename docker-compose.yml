version: 0.2

phases:
  install:
    runtime-versions:
      docker: 18
    commands:
      - echo "ðŸ”§ Installing Docker..."
      - yum update -y
      - yum install -y docker
      - service docker start
      - echo "âœ… Docker installed."

  build:
    commands:
      - echo "ðŸ“‚ Listing files..."
      - ls -al
      - echo "ðŸš€ Building Docker images using docker-compose..."
      - docker-compose -f docker-compose.yml build
      - echo "âœ… Docker images built."

  post_build:
    commands:
      - echo "ðŸ“¦ Starting Docker containers..."
      - docker-compose -f docker-compose.yml up -d
      - echo "âœ… Containers started."

artifacts:
  files:
    - '**/*'
